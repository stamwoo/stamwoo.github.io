<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Blog of Woo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="本文由 简悦 SimpRead 转码， 原文地址 https://www.cnblogs.com/oskyhg/p/6683629.html  在 springboot 官网照着给的介绍写了个 springboot 程序 pom.xml      org.springframework.boot     spring-boot-starter-parent     1.5.2.RELEASE">
<meta property="og:type" content="article">
<meta property="og:title" content="Blog of Woo">
<meta property="og:url" content="http://yoursite.com/2019/01/31/spring boot 扫描不到自定义 Controller/index.html">
<meta property="og:site_name" content="Blog of Woo">
<meta property="og:description" content="本文由 简悦 SimpRead 转码， 原文地址 https://www.cnblogs.com/oskyhg/p/6683629.html  在 springboot 官网照着给的介绍写了个 springboot 程序 pom.xml      org.springframework.boot     spring-boot-starter-parent     1.5.2.RELEASE">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409005618644-1487234010.png">
<meta property="og:image" content="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409005713894-1428437850.png">
<meta property="og:image" content="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409005517644-1213300216.png">
<meta property="og:image" content="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409004634847-1050076443.png">
<meta property="og:image" content="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409010006191-38718118.png">
<meta property="og:image" content="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409010021238-427644219.png">
<meta property="og:image" content="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409010114410-919234476.png">
<meta property="og:updated_time" content="2019-01-31T15:18:20.173Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Blog of Woo">
<meta name="twitter:description" content="本文由 简悦 SimpRead 转码， 原文地址 https://www.cnblogs.com/oskyhg/p/6683629.html  在 springboot 官网照着给的介绍写了个 springboot 程序 pom.xml      org.springframework.boot     spring-boot-starter-parent     1.5.2.RELEASE">
<meta name="twitter:image" content="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409005618644-1487234010.png">
  
    <link rel="alternate" href="/atom.xml" title="Blog of Woo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Blog of Woo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-spring boot 扫描不到自定义 Controller" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/31/spring boot 扫描不到自定义 Controller/" class="article-date">
  <time datetime="2019-01-31T15:18:20.173Z" itemprop="datePublished">2019-01-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>本文由 <a href="http://ksria.com/simpread/" target="_blank" rel="noopener">简悦 SimpRead</a> 转码， 原文地址 <a href="https://www.cnblogs.com/oskyhg/p/6683629.html" target="_blank" rel="noopener">https://www.cnblogs.com/oskyhg/p/6683629.html</a></p>
</blockquote>
<p>在 springboot 官网照着给的介绍写了个 springboot 程序</p>
<p>pom.xml</p>
<pre><parent>
    <groupid>org.springframework.boot</groupid>
    <artifactid>spring-boot-starter-parent</artifactid>
    <version>1.5.2.RELEASE</version>
</parent>
<dependencies>
    <dependency>
        <groupid>org.springframework.boot</groupid>
        <artifactid>spring-boot-starter-web</artifactid>
    </dependency>
</dependencies></pre>

<p>java 文件</p>
<pre>package hello;

import org.springframework.boot.*;
import org.springframework.boot.autoconfigure.*;
import org.springframework.stereotype.*;
import org.springframework.web.bind.annotation.*;

@Controller
@EnableAutoConfiguration
public class Application{

    @RequestMapping("/")
    @ResponseBody
    String home() {
        return "Hello World!";
    }

    public static void main(String[] args) throws Exception {
        SpringApplication.run(SampleController.class, args);
    }
}</pre>

<p>然后自己写了个 Controller</p>
<p><img src="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409005618644-1487234010.png" alt=""></p>
<p>但是无论如何也无法扫描到自己定义的 Controller（如果用的是 idea，能明显看出来，如果扫描到会有<img src="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409005713894-1428437850.png" alt="">的图标）。访问结果结果如下：</p>
<p><img src="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409005517644-1213300216.png" alt=""></p>
<p>报错的原因是找不到对应的映射路径，即 Controller 没有被扫描到 ，。</p>
<p>郁闷至极，到晚上搜的结果说的是 LoginController 方的位置不对，应该让启动类和 Controller 的包在同一级目录下，然而对我却没有效果。</p>
<p>官方建议 application.java 放的位置：</p>
<p><img src="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409004634847-1050076443.png" alt=""></p>
<p>最后尝试了下修改下 Application 上的注解，<strong>我本来复制官方的代码用的是 @Controller 和 <em>@EnableAutoConfiguration，试着换成了 @</em>**</strong>SpringBootApplication<strong> </strong>注解**，出乎意外的可以扫描到 Controller </p>
<p><img src="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409010006191-38718118.png" alt=""></p>
<p><img src="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409010021238-427644219.png" alt=""></p>
<p><img src="https://images2015.cnblogs.com/blog/997786/201704/997786-20170409010114410-919234476.png" alt=""></p>
<p>又查了下官方的文档终于找到原因了，原因是：</p>
<p>如果使用 @Controller 和 <em>@EnableAutoConfiguration 注解还应该再加上一个注解：</em>@ComponentScan  就可以了。@Controller 和 @EnableAutoConfiguration 没有扫描注解的功能，而 @ComponentScan 是</p>
<p> springboot 专门用来扫描 @Component, @Service, @Repository, @Controller 等注解的注解</p>
<p>总结：</p>
<p>使用 springboot 启动类配置扫描的两种注解配置方式：</p>
<p>1、@Controller</p>
<p> @EnableAutoConfiguration</p>
<p> @ComponentScan</p>
<p>2、@SpringBootApplication</p>
<p>@SpringBootApplication 注解等价于 @Configuration, @EnableAutoConfiguration and @ComponentScan</p>
<pre>另外application.java（启动类）也应该按照官方的建议放在root目录下，这样才能扫描到Service和dao，不然还会引起，扫描不到注解的问题。
**--- 更新日期：2018-10-14 ---**
最近用了最新的springboot 2.0.5.RELEASE 版本 多了一种新的扫描注解，新版的springboot application可以放在任意位置，只要加上</pre>

<p><pre>@ComponentScan(basePackages = {“com.oskyhang”, “com.frames”})</pre></p>
<p>注解就可以，注解指定扫描的包，就可以扫描到，更灵活方便。</p>
<p> PS：如有疑问或错误，欢迎指教。3Q</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/31/spring boot 扫描不到自定义 Controller/" data-id="cjrnxzmfn0002z7kmp1u3874r" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/02/02/为什么你需要一个 vps _ Hexo/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2019/01/31/SpringCloud 警告 (Eureka)：EMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY'RE NOT. RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE./" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/02/02/mysql explain 详解 _ Hexo/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/02/02/为什么你需要一个 vps _ Hexo/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/01/31/spring boot 扫描不到自定义 Controller/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/01/31/SpringCloud 警告 (Eureka)：EMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY'RE NOT. RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE./">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/01/29/蓄水池抽样算法/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 woo<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>